# GPT Burger v1.3.5

给 ChatGPT 聊天加锚点，快速跳转查看重点对话段落。

## 功能特点

- ✨ 选中文本快速添加书签
- 📑 支持书签分组管理
- 🔄 支持分组和书签拖拽排序
- 🎨 支持深色/浅色主题
- 🚀 支持多域名访问
  - chat.openai.com
  - chatgpt.com
- 📌 支持分组折叠记忆
- 🎯 支持自定义分组名称
- ⚡️ 支持跨组拖拽功能
- 🌐 完整的国际化支持
- 🎯 精准的书签定位功能

## 更新日志

### v1.3.5 (当前版本) - 2024-12-19
- **🎯 书签定位系统重构**
  - **修复代码块定位问题**：彻底解决了代码块书签跳转到错误位置的问题，现在能准确跳转到正确的代码块。
  - **精确文章定位**：实现基于 `articleId` 的精确文章定位，确保在长对话中能找到正确的对话段落。
  - **智能定位策略**：区分不同内容类型的最佳显示位置：
    - 普通文本：定位到内容中间，显示在屏幕上方1/3处
    - 代码块/表格：定位到内容开头，显示在屏幕中间位置
  - **错误处理优化**：添加详细调试信息，实现模糊匹配备选方案，优雅降级处理
- **🎨 深色模式适配完善**
  - **UI颜色修复**：修复深色模式下分组标题、"Select"按钮、"My Bookmarks"标题的颜色显示问题。
  - **主题切换优化**：重构主题变化处理逻辑，确保浅色/深色模式切换时的完整颜色适配。
  - **视觉一致性**：确保所有文本在各种主题下都清晰可见，统一颜色方案和对比度。
- **🔧 技术改进**
  - **代码优化**：重构书签跳转逻辑，优化容器分析算法，简化主题切换代码。
  - **性能提升**：优化文章查找算法，减少不必要的DOM操作，改进事件处理效率。

### v1.3.4
- **✨ 功能**
  - 书签边栏改为可折叠，默认收起，通过一个悬浮的切换按钮控制。
  - 支持智能悬停展开/收起功能，并可在代码中配置开关和延迟。
  - 创建新书签后，边栏会自动展开并高亮新条目，提供即时反馈。
- **🎨 UI/UX**
  - 切换按钮适配深色/浅色主题。
  - 添加了平滑的展开/收起动画效果。
  - 空分组样式优化，更紧凑，并有"拖拽到此"的提示。
  - 调整书签列表最大高度，适配更多内容。
- **🐛 Bug 修复**
  - 修复了之前版本中书签列表下方可能出现多余空白的问题。

### v1.3.3 (2024-02-14)
- 🌐 **国际化**
  - 完成所有UI文本的i18n支持，优化中英文切换。
  - 补充了导出功能的英文prompt和模板。
- 🎨 **UI/UX**
  - 统一视觉风格，优化弹窗布局和"My Burger"标题。
- ✨ **功能**
  - 改进自定义提示输入格式，优化分组显示逻辑。

### v1.3.1 (2025-06-02)
- ✨ 优化书签定位功能
  - 改进代码块等特殊内容的定位逻辑
  - 添加无法精确定位时的视觉提示
  - 优化跳转位置的计算方式
- 🔍 新增书签预览功能
  - 悬停时显示原文内容预览
  - 优化预览窗口的展示效果
- 📤 增强导出功能
  - 优化"自定义提示语"的用户界面，调整为更直观的上下两行填空形式。
  - 支持多种预设导出模板（如仅原文、金句收集、结构化整理等）。
  - 导出内容自动复制到剪贴板。

### v1.2.2
- ✨ 新增分组拖拽排序功能
- 🎯 支持分组之间的顺序调整
- 🔄 实现书签跨组拖拽
- 💾 优化数据存储结构
- 🎨 改进拖拽时的视觉反馈
- ⚡️ 优化大量书签时的性能
- 🌈 支持空分组的拖拽接收

### v1.2.1
- ✨ 新增分组内书签排序功能
- 🎯 添加5个固定的emoji分组系统
- 🔄 优化分组显示和管理
- 🐛 修复切换聊天时的问题

### v1.2.0
- ✨ 分组管理功能增强
- 🎯 批量操作功能
- 🔄 管理模式优化

### v1.1.2
- ✨ 分组折叠状态记忆功能
- 🎯 自定义分组名称功能
- 🔧 修复了移动到分组功能
- 🎨 优化深色模式适配

## 更新内容
- ✨ 新增书签内容导出功能：
  - 支持在管理模式下选择书签导出内容。
  - 提供多种导出模板，包括"自定义提示语"模式。
  - 导出内容自动复制到剪贴板，并保持书签原有顺序。
- 🎨 UI/UX优化：
  - 优化"自定义提示语"的输入界面，调整为上下两行填空形式，提升用户体验。
  - 复用现有的批量操作界面进行导出操作。
  - 添加导出成功后的toast提示。
  - 整体保持一致的视觉风格。
- 💾 功能优化：
  - 优化分组选择机制
  - 改进导出内容的格式
  - 完善错误处理和提示

## 功能说明
1. 📑 书签管理
   - 选中文本快速创建书签
   - 支持编辑书签名称
   - 一键跳转到书签位置
   - 书签拖拽排序（组内和跨组）

2. 📂 分组功能
   - 支持创建自定义分组
   - 预设 emoji 分组快速使用
   - 分组拖拽排序
   - 分组批量管理

3. 🎯 管理模式
   - 批量选择和删除
   - 批量移动到其他分组
   - 批量导出书签内容
   - 分组选择和删除

4. 💾 数据同步
   - 自动保存到 localStorage
   - 切换对话时同步更新
   - 保持分组顺序

## 使用说明
1. 创建书签：选中文本 → 弹出快速操作窗口 → 选择分组 → 保存
2. 管理书签：点击"管理"按钮 → 选择书签或分组 → 执行批量操作
3. 导出内容：进入管理模式 → 选择书签或分组 → 点击"导出内容"按钮

## 注意事项
1. 默认分组不可删除
2. 管理模式下不能创建新书签
3. 删除分组时，其中的书签会移动到默认分组
4. 导出内容会自动复制到剪贴板

## 使用方法

1. 选中文本：直接选中对话中的文本
2. 添加书签：
   - 在弹出窗口中输入标题
   - 选择预设分组或创建新分组
3. 管理书签：
   - 点击"管理"进入管理模式
   - 可以批量选择、删除、移动书签
   - 支持分组折叠/展开（状态会被保存）
   - 通过拖拽调整分组和书签顺序
4. 快速跳转：点击书签即可跳转到对应位置

## 权限说明

- storage: 用于保存书签数据和用户偏好设置
- host permissions: 仅限 ChatGPT 相关域名 